# 工程主机串口通信协议

9600, N, 8, 1

SUM = DATA(N) = DATA(0) + DATA(1) + ... + DATA(N-1)



## EB AB addr data sum
PC到主机，按键
* addr: PC模拟键盘地址，1~4，暂时固定为3
* data: 按键码

|按键码|按键|
|-----|----|
|00|无按键动作|
|01|1|
|02|2|
|03|3|
|04|4|
|05|5|
|06|6|
|07|7|
|08|8|
|09|9|
|0A|0|
|0B|*|
|0C|#|
|0D|布防|
|0E|半布防|
|0F|撤防|
|10|紧急报警|
|11|录音|
|12|放音|
|13|停止|


## EB B1 data0 data1 data2 code data4 sum
主机到PC事件报告
* data0: 命令字总字长，固定为8
* data1: 防区号高位
* data2: 防区号低位
* data4: 00 表示data1与data2为主机直属防区号，01~F0 表示data1与data2为分机防区号（已废弃），EE 表示分机自身状态（已废弃 ）
* code: 报警码

|报警码|安定宝事件码|含义|
|------|----------|----|
|01|3400|布防|
|02|1400|撤防|
|04|3456|半布防|
|08|1120|紧急报警|
|00|1130|盗警|
|20|1110|火警|
|30|1121|胁迫|
|40|1151|煤气|
|50|1113|水警|
|BA|1137|防拆|
|AB|1302|低电|
|AC|1302|低电|
|AE|1311|坏电|
|A5|1311|坏电|
|AD|3302|复电|
|BD|1387|光扰|
|CD|3387|光扰恢复|
|BC|1381|失效|
|CB|3381|恢复|
|DD|1134|门铃|
|CE|1702|分防区异常|
|CF|3702|分防区恢复|
|BE|1703|分防区电源异常|
|BF|3703|分防区电源恢复|
|B0|1301|主机AC掉电|
|B1|3301|主机AC恢复|